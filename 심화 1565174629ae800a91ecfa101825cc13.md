# 심화

- c/c++ 과 java의 array 할당 방식 차이
    
    ### C/C++
    
    - **스택 할당**:
        
        ```cpp
        cpp
        코드 복사
        int arr[10];  // 정적 배열, 스택 메모리에 할당
        ```
        
        - 크기가 컴파일 타임에 결정되며, 스택 메모리에 저장됩니다.
        - 함수 호출이 끝나면 스택 메모리가 해제되므로, 배열은 소멸됩니다.
        - 크기가 고정되어 있어 유연성이 부족합니다.
    - **힙 할당**:
        
        ```cpp
        cpp
        코드 복사
        int* arr = (int*)malloc(10 * sizeof(int));  // 힙 메모리에 할당
        ```
        
        - 동적 메모리 할당(`malloc`, `new`)을 통해 힙에 생성됩니다.
        - 프로그래머가 직접 메모리 해제(`free`, `delete[]`)를 관리해야 합니다.
        - 적절히 관리하지 않으면 **메모리 누수**가 발생합니다.
    
    ### Java
    
    - Java의 모든 배열은 **동적 할당**으로 생성됩니다.
        
        ```java
        java
        코드 복사
        int[] arr = new int[10];  // 힙 메모리에 항상 저장
        ```
        
        - 배열은 객체로 취급되며 힙에 저장됩니다.
        - 메모리는 가비지 컬렉터(GC)가 관리하며, 프로그래머는 메모리 해제를 신경 쓸 필요가 없습니다.
        - 힙 메모리에 저장되므로 배열의 생명 주기는 참조가 존재하는 동안 지속됩니다.
- 지역변수를 스택에 저장하는 이유?
- 전역변수는 stack이 아니라 data에 저장하는 이유